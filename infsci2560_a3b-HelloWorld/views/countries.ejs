<!-- this is for "/api/countries" -->

<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <title>Hello! World</title>

    <!-- Font Awesome icons (free version) -->
    <script
      src="https://use.fontawesome.com/releases/v5.12.1/js/all.js"
      crossorigin="anonymous"
    ></script>

    <!-- Google fonts -->
    <link
      href="https://fonts.googleapis.com/css?family=Merriweather+Sans:400,700"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css?family=Merriweather:400,300,300italic,400italic,700,700italic"
      rel="stylesheet"
      type="text/css"
    />

    <!-- Third party plugin CSS -->
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/magnific-popup.js/1.1.0/magnific-popup.min.css"
      rel="stylesheet"
    />

    <!-- a safety net when core theme css not working -->
    <!-- not sure why this ejs suddenly can't load core css... I need to do style inline ugh -->
    <!-- Bootstrap -->
    <link
      href="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
      rel="stylesheet"
    />

    <!-- Core theme CSS (includes Bootstrap) -->
    <link href="style.css" rel="stylesheet" />
  </head>

  <body style="background: #f4623a">
    <!-- Navigation -->
    <nav
      class="navbar navbar-expand-lg navbar-dark fixed-top py-3"
      id="mainNav"
      style="
        box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15);
        background-color: #343a40;
        transition: background-color 0.2s ease;
      "
    >
      <div class="container">
        <a
          class="navbar-brand"
          href="../"
          style="color: #6c757d; font-weight: 700"
          onMouseOver="this.style.color='#bec7d0'"
          onMouseOut="this.style.color='#6c757d'"
          >Hello! World (｡◕∀◕｡)</a
        >

        <div class="collapse navbar-collapse" id="navbarResponsive">
          <ul class="navbar-nav ml-auto my-2 my-lg-0">
            <li class="nav-item">
              <a class="nav-link disabled">You're now in Countries</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <section class="page-section" style="padding: 8rem 0">
      <div class="container text-light">
        <h2 class="text-white mt-0">Moving On to Countries...</h2>

        <div class="row justify-content-center">
          <div class="col-lg-2 col-md-12 text-center">
            <div class="mt-5">
              <% if (countries) { %>
              <h3 class="h4 mb-2"><%= countries.length %> Countries</h3>
              <% } else { %>
              <h3 class="h4 mb-2">No Countries</h3>
              <% } %>
              <i class="fas fa-4x fa-globe text-warning mb-4"></i>
            </div>
          </div>

          <div class="col-lg-10 col-md-12 text-left">
            <div class="mt-5">
              <% if (countries) { %>
              <table class="table table-borderless table-hover table-warning">
                <thead>
                  <tr>
                    <th></th>
                    <th scope="col">Code</th>
                    <th scope="col">Country</th>
                    <th scope="col">Calling Code</th>
                    <th scope="col">Population Density</th>
                    <th scope="col">Time Zone</th>
                    <th scope="col">Currency</th>
                  </tr>
                </thead>
                <% countries.forEach(country => { %>
                <tr>
                  <td>
                    <a
                      class="btn btn-success btn-sm"
                      href="./countries/<%= country.code %>"
                      >GET</a
                    >
                  </td>
                  <td><%= country.code %></td>
                  <td><%= country.country %></td>
                  <td><%= country.callingCode %></td>
                  <td><%= country.populationDensity %> (pop/km2)</td>
                  <td><%= country.timeZone %></td>
                  <td><%= country.currency %></td>
                </tr>
                <% }); %>
              </table>
              <% } else { %>
              <table class="table table-borderless table-hover table-warning">
                <thead>
                  <tr>
                    <th scope="col">Code</th>
                    <th scope="col">Country</th>
                    <th scope="col">Calling Code</th>
                    <th scope="col">Population Density</th>
                    <th scope="col">Time Zone</th>
                    <th scope="col">Currency</th>
                  </tr>
                  <tr>
                    <td></td>
                    <td>N/A</td>
                    <td>N/A</td>
                    <td>N/A</td>
                    <td>N/A</td>
                    <td>N/A</td>
                    <td>N/A</td>
                  </tr>
                </thead>
              </table>
              <% } %>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Footer-->
    <footer class="bg-light py-5"></footer>

    <!-- Bootstrap core JS-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.bundle.min.js"></script>

    <!-- Third party plugin JS-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.4.1/jquery.easing.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/magnific-popup.js/1.1.0/jquery.magnific-popup.min.js"></script>

    <!-- Core theme JS-->
    <script src="script.js"></script>
  </body>
</html>
